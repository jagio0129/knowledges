データベースとは
===

## <font color=magenta>データベースの基本機能</font>

### <font color=orange>１． 検索と更新</font>
いわゆるCRUDです

### <font color=orange>２． 同時実行制御</font>
2人以上が同じファイルを開こうとした場合を考ます。

1. 最初の人が開いた場合、以外の人は開けない(ファイルの中身を読めない)
2. 最初の人が開いた場合、以外の人は読み取り専用で開くことができる
3. 同時に開かれても、最後に更新した人の内容が反映される

上記３パターンはそれぞれ、都合の良い場合と悪い場合が共存することになります。

- 1の場合
  - ファイルの中身が最新に保たれる
  - 最初に人が閉じるまで以外の人は読めなくて不便
- 2の場合
  - ファイルの中身が最新に保たれる
  - 以外の人はファイルを更新できないが、読むことはできる
- 3の場合
  - 誰でも同時に読み書きできる(CodiMD的な同時編集)
  - ファイルの中身が担保されない

1の場合が最も制限が厳しく3の場合が最も制限がゆるいことになります。

上記のように、ファイル(データ)を複数人が共同利用しようとすると、同じデータに対する更新の制御方法を考えなければいけません。これをうまく制御する機能を**同時実行制御**や**排他制御**といいます。

> 「どちらの人も問題なくファイルを開けて、最後に更新した人の内容が反映される」は**dirty write**といいます。更新処理がconflictしたときは「後出しが勝つじゃんけん」のようなものです。データベースにおいては一般的に、このようなルールは忌避されう傾向にあります。

### <font color=orange>３． 耐障害性</font>
データベースが簡単に壊れてしまっては困ります。データベースに求められるのは「なかなか壊れにくく、壊れても復旧できること」です。

基本的には以下の対策が挙げられます。

- バックアップ
- データの冗長化

**冗長化**とは、サーバーやネットワーク、ストレージといったハードウェアが故障したり、ソフトウェアにエラーがあったりした場合に備えて、余分に設備を用意し、稼働させておくことを指します。**バックアップを取ることが冗長化ではありません**。システムを複数用意しておき、それらの情報が随時更新され、同一の状態に保たれるようにシステムを構成しなければなりません。

システムを常時稼働させる以外にも、**負荷分散**の目的で有効です。

## <font color=magenta>データベースの種類</font>
５つ挙げられているがここでは２つだけ。

### リレーショナルデータベース
二次元表でデータを管理するデータベースで、現在では最も主流となっています。エクセル的な？

### NoSQL
「SQLを使わない」という意味になりますが、SQLはリレーショナルデータベースを扱う言語を指しています。NoSQLは、リレーショナルデータベースの一部機能を削ぎ落とし、パフォーマンスに特化しています。大量のデータを処理するWebサービスなどで近年使われることが多いようです。
